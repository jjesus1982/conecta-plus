{
  "last_update": "2025-12-26T13:28:26.736821",
  "iteration": 2885,
  "total_errors_fixed": 1,
  "total_gaps_detected": 34046,
  "total_tests_run": 6624,
  "total_tests_passed": 2471,
  "last_cycle": {
    "iteration": 2885,
    "timestamp": "2025-12-26T13:27:33.557768",
    "log_analysis": {
      "timestamp": "2025-12-26T13:27:33.558224",
      "logs": {
        "nextjs": {
          "log_path": "/tmp/nextjs-debug.log",
          "timestamp": "2025-12-26T13:27:33.561727",
          "total_lines": 1000,
          "errors": [],
          "warnings": [],
          "patterns": {},
          "severity": "ok",
          "summary": {
            "total_errors": 0,
            "total_warnings": 0,
            "error_types": {},
            "most_common_error": null,
            "unique_errors": 0
          },
          "recommendations": []
        },
        "backend": {
          "log_path": "/opt/conecta-plus/backend/logs/api.log",
          "error": "Log file not found",
          "severity": "error"
        },
        "nginx": {
          "log_path": "/var/log/nginx/error.log",
          "error": "Log file not found",
          "severity": "error"
        }
      },
      "overall_severity": "ok",
      "total_errors": 0,
      "total_warnings": 0,
      "critical_issues": []
    },
    "gaps": {
      "timestamp": "2025-12-26T13:27:33.568920",
      "gaps": [
        {
          "category": "dependencies",
          "type": "missing_pip_package",
          "severity": "high",
          "description": "Missing pip package: psutil",
          "solution": "Run: docker exec conecta-backend-q1 pip3 install -r requirements.txt",
          "package": "psutil",
          "priority": "P2",
          "priority_score": 2
        },
        {
          "category": "code_quality",
          "type": "excessive_any",
          "severity": "low",
          "description": "Excessive use of \"any\" type in DashboardGraficos.tsx",
          "count": 7,
          "file": "/opt/conecta-plus/frontend/src/components/financeiro/DashboardGraficos.tsx",
          "solution": "Replace \"any\" with proper types",
          "priority": "P4",
          "priority_score": 4
        },
        {
          "category": "unused_code",
          "type": "unused_dependency",
          "severity": "low",
          "description": "Possibly unused dependency: @prisma/adapter-pg",
          "package": "@prisma/adapter-pg",
          "solution": "Remove if not needed: npm uninstall @prisma/adapter-pg",
          "priority": "P4",
          "priority_score": 4
        },
        {
          "category": "unused_code",
          "type": "unused_dependency",
          "severity": "low",
          "description": "Possibly unused dependency: @prisma/client",
          "package": "@prisma/client",
          "solution": "Remove if not needed: npm uninstall @prisma/client",
          "priority": "P4",
          "priority_score": 4
        },
        {
          "category": "unused_code",
          "type": "unused_dependency",
          "severity": "low",
          "description": "Possibly unused dependency: @radix-ui/react-avatar",
          "package": "@radix-ui/react-avatar",
          "solution": "Remove if not needed: npm uninstall @radix-ui/react-avatar",
          "priority": "P4",
          "priority_score": 4
        },
        {
          "category": "unused_code",
          "type": "unused_dependency",
          "severity": "low",
          "description": "Possibly unused dependency: @radix-ui/react-dialog",
          "package": "@radix-ui/react-dialog",
          "solution": "Remove if not needed: npm uninstall @radix-ui/react-dialog",
          "priority": "P4",
          "priority_score": 4
        },
        {
          "category": "unused_code",
          "type": "unused_dependency",
          "severity": "low",
          "description": "Possibly unused dependency: @radix-ui/react-dropdown-menu",
          "package": "@radix-ui/react-dropdown-menu",
          "solution": "Remove if not needed: npm uninstall @radix-ui/react-dropdown-menu",
          "priority": "P4",
          "priority_score": 4
        },
        {
          "category": "unused_code",
          "type": "unused_dependency",
          "severity": "low",
          "description": "Possibly unused dependency: @radix-ui/react-select",
          "package": "@radix-ui/react-select",
          "solution": "Remove if not needed: npm uninstall @radix-ui/react-select",
          "priority": "P4",
          "priority_score": 4
        },
        {
          "category": "unused_code",
          "type": "unused_dependency",
          "severity": "low",
          "description": "Possibly unused dependency: @radix-ui/react-slot",
          "package": "@radix-ui/react-slot",
          "solution": "Remove if not needed: npm uninstall @radix-ui/react-slot",
          "priority": "P4",
          "priority_score": 4
        },
        {
          "category": "unused_code",
          "type": "unused_dependency",
          "severity": "low",
          "description": "Possibly unused dependency: @radix-ui/react-tabs",
          "package": "@radix-ui/react-tabs",
          "solution": "Remove if not needed: npm uninstall @radix-ui/react-tabs",
          "priority": "P4",
          "priority_score": 4
        },
        {
          "category": "unused_code",
          "type": "unused_dependency",
          "severity": "low",
          "description": "Possibly unused dependency: @radix-ui/react-toast",
          "package": "@radix-ui/react-toast",
          "solution": "Remove if not needed: npm uninstall @radix-ui/react-toast",
          "priority": "P4",
          "priority_score": 4
        },
        {
          "category": "unused_code",
          "type": "unused_dependency",
          "severity": "low",
          "description": "Possibly unused dependency: @tanstack/react-query",
          "package": "@tanstack/react-query",
          "solution": "Remove if not needed: npm uninstall @tanstack/react-query",
          "priority": "P4",
          "priority_score": 4
        }
      ],
      "total_gaps": 12,
      "critical_gaps": 0,
      "by_category": {
        "dependencies": [
          {
            "category": "dependencies",
            "type": "missing_pip_package",
            "severity": "high",
            "description": "Missing pip package: psutil",
            "solution": "Run: docker exec conecta-backend-q1 pip3 install -r requirements.txt",
            "package": "psutil",
            "priority": "P2",
            "priority_score": 2
          }
        ],
        "code_quality": [
          {
            "category": "code_quality",
            "type": "excessive_any",
            "severity": "low",
            "description": "Excessive use of \"any\" type in DashboardGraficos.tsx",
            "count": 7,
            "file": "/opt/conecta-plus/frontend/src/components/financeiro/DashboardGraficos.tsx",
            "solution": "Replace \"any\" with proper types",
            "priority": "P4",
            "priority_score": 4
          }
        ],
        "unused_code": [
          {
            "category": "unused_code",
            "type": "unused_dependency",
            "severity": "low",
            "description": "Possibly unused dependency: @prisma/adapter-pg",
            "package": "@prisma/adapter-pg",
            "solution": "Remove if not needed: npm uninstall @prisma/adapter-pg",
            "priority": "P4",
            "priority_score": 4
          },
          {
            "category": "unused_code",
            "type": "unused_dependency",
            "severity": "low",
            "description": "Possibly unused dependency: @prisma/client",
            "package": "@prisma/client",
            "solution": "Remove if not needed: npm uninstall @prisma/client",
            "priority": "P4",
            "priority_score": 4
          },
          {
            "category": "unused_code",
            "type": "unused_dependency",
            "severity": "low",
            "description": "Possibly unused dependency: @radix-ui/react-avatar",
            "package": "@radix-ui/react-avatar",
            "solution": "Remove if not needed: npm uninstall @radix-ui/react-avatar",
            "priority": "P4",
            "priority_score": 4
          },
          {
            "category": "unused_code",
            "type": "unused_dependency",
            "severity": "low",
            "description": "Possibly unused dependency: @radix-ui/react-dialog",
            "package": "@radix-ui/react-dialog",
            "solution": "Remove if not needed: npm uninstall @radix-ui/react-dialog",
            "priority": "P4",
            "priority_score": 4
          },
          {
            "category": "unused_code",
            "type": "unused_dependency",
            "severity": "low",
            "description": "Possibly unused dependency: @radix-ui/react-dropdown-menu",
            "package": "@radix-ui/react-dropdown-menu",
            "solution": "Remove if not needed: npm uninstall @radix-ui/react-dropdown-menu",
            "priority": "P4",
            "priority_score": 4
          },
          {
            "category": "unused_code",
            "type": "unused_dependency",
            "severity": "low",
            "description": "Possibly unused dependency: @radix-ui/react-select",
            "package": "@radix-ui/react-select",
            "solution": "Remove if not needed: npm uninstall @radix-ui/react-select",
            "priority": "P4",
            "priority_score": 4
          },
          {
            "category": "unused_code",
            "type": "unused_dependency",
            "severity": "low",
            "description": "Possibly unused dependency: @radix-ui/react-slot",
            "package": "@radix-ui/react-slot",
            "solution": "Remove if not needed: npm uninstall @radix-ui/react-slot",
            "priority": "P4",
            "priority_score": 4
          },
          {
            "category": "unused_code",
            "type": "unused_dependency",
            "severity": "low",
            "description": "Possibly unused dependency: @radix-ui/react-tabs",
            "package": "@radix-ui/react-tabs",
            "solution": "Remove if not needed: npm uninstall @radix-ui/react-tabs",
            "priority": "P4",
            "priority_score": 4
          },
          {
            "category": "unused_code",
            "type": "unused_dependency",
            "severity": "low",
            "description": "Possibly unused dependency: @radix-ui/react-toast",
            "package": "@radix-ui/react-toast",
            "solution": "Remove if not needed: npm uninstall @radix-ui/react-toast",
            "priority": "P4",
            "priority_score": 4
          },
          {
            "category": "unused_code",
            "type": "unused_dependency",
            "severity": "low",
            "description": "Possibly unused dependency: @tanstack/react-query",
            "package": "@tanstack/react-query",
            "solution": "Remove if not needed: npm uninstall @tanstack/react-query",
            "priority": "P4",
            "priority_score": 4
          }
        ]
      },
      "by_priority": {
        "P1": 0,
        "P2": 1,
        "P3": 0,
        "P4": 11
      }
    },
    "fixes_applied": [],
    "metrics": {
      "timestamp": "2025-12-26T13:27:37.515623",
      "cpu": {
        "timestamp": "2025-12-26T13:27:37.515630",
        "percent": 37.0,
        "per_cpu": [
          9.1,
          29.3,
          32.7,
          13.0
        ],
        "count": 4,
        "load_avg": [
          1.78466796875,
          2.36572265625,
          1.79833984375
        ]
      },
      "memory": {
        "timestamp": "2025-12-26T13:27:39.517066",
        "total_mb": 15992,
        "available_mb": 11661,
        "used_mb": 3647,
        "percent": 27.1,
        "swap_total_mb": 0,
        "swap_used_mb": 0,
        "swap_percent": 0.0
      },
      "disk": {
        "timestamp": "2025-12-26T13:27:39.517174",
        "path": "/",
        "total_gb": 192,
        "used_gb": 152,
        "free_gb": 40,
        "percent": 79.1
      },
      "network": {
        "timestamp": "2025-12-26T13:27:39.517759",
        "bytes_sent": 29826392144,
        "bytes_recv": 27220237906,
        "packets_sent": 23948929,
        "packets_recv": 32635350,
        "errors_in": 0,
        "errors_out": 0,
        "drops_in": 0,
        "drops_out": 0
      },
      "uptime": {
        "boot_time": "2025-12-18T15:11:19",
        "uptime_seconds": 684980,
        "uptime_human": "7 days, 22:16:20"
      },
      "top_processes_cpu": [
        {
          "memory_percent": 3.155927806722504,
          "cpu_percent": 39.9,
          "pid": 3942113,
          "username": "root",
          "name": "claude"
        },
        {
          "memory_percent": 0.34186531053905583,
          "cpu_percent": 10.0,
          "pid": 3790,
          "username": "root",
          "name": "monarx-agent"
        },
        {
          "memory_percent": 0.07501202977032298,
          "cpu_percent": 0.0,
          "pid": 1,
          "username": "root",
          "name": "systemd"
        },
        {
          "memory_percent": 0.0,
          "cpu_percent": 0.0,
          "pid": 2,
          "username": "root",
          "name": "kthreadd"
        },
        {
          "memory_percent": 0.0,
          "cpu_percent": 0.0,
          "pid": 3,
          "username": "root",
          "name": "pool_workqueue_release"
        }
      ],
      "top_processes_memory": [
        {
          "memory_percent": 6.852352583408443,
          "cpu_percent": 0.0,
          "pid": 22398,
          "username": "root",
          "name": "dockerd"
        },
        {
          "memory_percent": 3.1192889123377814,
          "cpu_percent": 10.0,
          "pid": 3942113,
          "username": "root",
          "name": "claude"
        },
        {
          "memory_percent": 2.1144550208719566,
          "cpu_percent": 0.0,
          "pid": 3666842,
          "username": "ubuntu",
          "name": "python"
        },
        {
          "memory_percent": 1.1857079000784072,
          "cpu_percent": 0.0,
          "pid": 879018,
          "username": "root",
          "name": "python3"
        },
        {
          "memory_percent": 0.8254987164174001,
          "cpu_percent": 0.0,
          "pid": 4008070,
          "username": "472",
          "name": "grafana"
        }
      ]
    },
    "actions_taken": [],
    "safe_healing": {
      "timestamp": "2025-12-26T13:27:37.489703",
      "total_issues": 12,
      "authorized": 0,
      "attempted": 0,
      "successful": 0,
      "partial": 0,
      "failed": 0,
      "aborted": 12,
      "actions": [
        {
          "issue": "Missing pip package: psutil",
          "priority": "P2",
          "authorized": false,
          "authorization_reason": "Prioridade P2 n\u00e3o autorizada para auto-healing",
          "state_before": null,
          "execution": null,
          "validation": null,
          "rollback": null,
          "final_result": "aborted"
        },
        {
          "issue": "Excessive use of \"any\" type in DashboardGraficos.tsx",
          "priority": "P4",
          "authorized": false,
          "authorization_reason": "Sem rollback definido para 'excessive_any'",
          "state_before": null,
          "execution": null,
          "validation": null,
          "rollback": null,
          "final_result": "aborted"
        },
        {
          "issue": "Possibly unused dependency: @prisma/adapter-pg",
          "priority": "P4",
          "authorized": false,
          "authorization_reason": "Sem rollback definido para 'unused_dependency'",
          "state_before": null,
          "execution": null,
          "validation": null,
          "rollback": null,
          "final_result": "aborted"
        },
        {
          "issue": "Possibly unused dependency: @prisma/client",
          "priority": "P4",
          "authorized": false,
          "authorization_reason": "Sem rollback definido para 'unused_dependency'",
          "state_before": null,
          "execution": null,
          "validation": null,
          "rollback": null,
          "final_result": "aborted"
        },
        {
          "issue": "Possibly unused dependency: @radix-ui/react-avatar",
          "priority": "P4",
          "authorized": false,
          "authorization_reason": "Sem rollback definido para 'unused_dependency'",
          "state_before": null,
          "execution": null,
          "validation": null,
          "rollback": null,
          "final_result": "aborted"
        },
        {
          "issue": "Possibly unused dependency: @radix-ui/react-dialog",
          "priority": "P4",
          "authorized": false,
          "authorization_reason": "Sem rollback definido para 'unused_dependency'",
          "state_before": null,
          "execution": null,
          "validation": null,
          "rollback": null,
          "final_result": "aborted"
        },
        {
          "issue": "Possibly unused dependency: @radix-ui/react-dropdown-menu",
          "priority": "P4",
          "authorized": false,
          "authorization_reason": "Sem rollback definido para 'unused_dependency'",
          "state_before": null,
          "execution": null,
          "validation": null,
          "rollback": null,
          "final_result": "aborted"
        },
        {
          "issue": "Possibly unused dependency: @radix-ui/react-select",
          "priority": "P4",
          "authorized": false,
          "authorization_reason": "Sem rollback definido para 'unused_dependency'",
          "state_before": null,
          "execution": null,
          "validation": null,
          "rollback": null,
          "final_result": "aborted"
        },
        {
          "issue": "Possibly unused dependency: @radix-ui/react-slot",
          "priority": "P4",
          "authorized": false,
          "authorization_reason": "Sem rollback definido para 'unused_dependency'",
          "state_before": null,
          "execution": null,
          "validation": null,
          "rollback": null,
          "final_result": "aborted"
        },
        {
          "issue": "Possibly unused dependency: @radix-ui/react-tabs",
          "priority": "P4",
          "authorized": false,
          "authorization_reason": "Sem rollback definido para 'unused_dependency'",
          "state_before": null,
          "execution": null,
          "validation": null,
          "rollback": null,
          "final_result": "aborted"
        },
        {
          "issue": "Possibly unused dependency: @radix-ui/react-toast",
          "priority": "P4",
          "authorized": false,
          "authorization_reason": "Sem rollback definido para 'unused_dependency'",
          "state_before": null,
          "execution": null,
          "validation": null,
          "rollback": null,
          "final_result": "aborted"
        },
        {
          "issue": "Possibly unused dependency: @tanstack/react-query",
          "priority": "P4",
          "authorized": false,
          "authorization_reason": "Sem rollback definido para 'unused_dependency'",
          "state_before": null,
          "execution": null,
          "validation": null,
          "rollback": null,
          "final_result": "aborted"
        }
      ],
      "healing_score": {
        "current": 0.5,
        "max": 10.0,
        "p4_successes": 1,
        "p3_ready": false
      }
    },
    "health_score": {
      "timestamp": "2025-12-26T13:28:26.736448",
      "overall_score": 81,
      "health_level": "Good",
      "breakdown": {
        "gaps": {
          "score": 30,
          "max": 40,
          "total_gaps": 12,
          "critical_gaps": 0,
          "status": "Good - Few gaps"
        },
        "metrics": {
          "score": 26,
          "max": 30,
          "cpu": {
            "value": "37.0%",
            "score": 10
          },
          "memory": {
            "value": "27.1%",
            "score": 10
          },
          "disk": {
            "value": "79.1%",
            "score": 6
          }
        },
        "tests": {
          "score": 20,
          "reason": "No tests run this cycle"
        },
        "healing": {
          "score": 5,
          "reason": "No fixes attempted"
        }
      },
      "recommendations": [
        "\u2705 System health is optimal - continue monitoring"
      ]
    },
    "duration_seconds": 53.178784
  }
}